<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>موقع أفلام ومسلسلات</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            direction: rtl;
        }
        #searchInput {
            padding: 10px;
            width: 300px;
            margin: 20px;
        }
        #results {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
        }
        .card {
            border: 1px solid #ccc;
            padding: 10px;
            margin: 10px;
            width: 200px;
        }
        .card img {
            width: 100%;
            height: auto;
        }
    </style>
</head>
<body>
    <h1>ابحث عن أفلام أو مسلسلات</h1>
    <input type="text" id="searchInput" placeholder="اكتب اسم الفيلم أو المسلسل">
    <button onclick="searchMovies()">بحث</button>
    <div id="results"></div>

    <script>
        const apiKey = 'YOUR_API_KEY'; //curl --request GET \
     --url 'https://api.themoviedb.org/3/search/movie?query=Whiplash&language=de-DE&region=DE' \
     --header 'Authorization: Bearer ACCESS_TOKEN' \
     --header 'accept: application/json'
        const baseUrl = 'https://api.themoviedb.org/3/search/multi'; // بحث شامل للأفلام والمسلسلات
        const imgBaseUrl = 'https://image.tmdb.org/t/p/w500'; // رابط الصور

        function searchMovies() {
            const query = document.getElementById('searchInput').value;
            if (!query) {
                alert('يرجى إدخال اسم للبحث');
                return;
            }

            fetch(`${baseUrl}?api_key=${apiKey}&query=${encodeURIComponent(query)}&language=ar`)
                .then(response => response.json())
                .then(data => displayResults(data.results))
                .catch(error => console.error('خطأ:', error));
        }

        function displayResults(results) {
            const resultsDiv = document.getElementById('results');
            resultsDiv.innerHTML = ''; // مسح النتائج السابقة

            if (results.length === 0) {
                resultsDiv.innerHTML = '<p>لم يتم العثور على نتائج</p>';
                return;
            }

            results.forEach(item => {
                const title = item.title || item.name; // العنوان للأفلام أو المسلسلات
                const poster = item.poster_path ? `${imgBaseUrl}${item.poster_path}` : 'https://via.placeholder.com/200x300';
                const overview = item.overview || 'لا يوجد وصف متاح';
                const type = item.media_type === 'movie' ? 'فيلم' : 'مسلسل';

                const card = `
                    <div class="card">
                        <img src="${poster}" alt="${title}">
                        <h3>${title}</h3>
                        <p><strong>النوع:</strong> ${type}</p>
                        <p>${overview.slice(0, 100)}...</p>
                    </div>
                `;
                resultsDiv.innerHTML += card;
            });
        }
    </script>
</body>
</html>